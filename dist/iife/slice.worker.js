(()=>{var $=Object.create;var v=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var T=Object.getPrototypeOf,q=Object.prototype.hasOwnProperty;var s=(o,h)=>v(o,"name",{value:h,configurable:!0});var z=(o,h)=>()=>(h||o((h={exports:{}}).exports,h),h.exports);var E=(o,h,c,d)=>{if(h&&typeof h=="object"||typeof h=="function")for(let a of P(h))!q.call(o,a)&&a!==c&&v(o,a,{get:()=>h[a],enumerable:!(d=x(h,a))||d.enumerable});return o};var G=(o,h,c)=>(c=o!=null?$(T(o)):{},E(h||!o||!o.__esModule?v(c,"default",{value:o,enumerable:!0}):c,o));var C=(o,h,c)=>new Promise((d,a)=>{var g=l=>{try{y(c.next(l))}catch(_){a(_)}},b=l=>{try{y(c.throw(l))}catch(_){a(_)}},y=l=>l.done?d(l.value):Promise.resolve(l.value).then(g,b);y((c=c.apply(o,h)).next())});var M=z((U,I)=>{(function(o){if(typeof U=="object")I.exports=o();else if(typeof define=="function"&&define.amd)define(o);else{var h;try{h=window}catch(c){h=self}h.SparkMD5=o()}})(function(o){"use strict";var h=s(function(i,f){return i+f&4294967295},"add32"),c=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function d(i,f,r,t,n,e){return f=h(h(f,i),h(t,e)),h(f<<n|f>>>32-n,r)}s(d,"cmn");function a(i,f){var r=i[0],t=i[1],n=i[2],e=i[3];r+=(t&n|~t&e)+f[0]-680876936|0,r=(r<<7|r>>>25)+t|0,e+=(r&t|~r&n)+f[1]-389564586|0,e=(e<<12|e>>>20)+r|0,n+=(e&r|~e&t)+f[2]+606105819|0,n=(n<<17|n>>>15)+e|0,t+=(n&e|~n&r)+f[3]-1044525330|0,t=(t<<22|t>>>10)+n|0,r+=(t&n|~t&e)+f[4]-176418897|0,r=(r<<7|r>>>25)+t|0,e+=(r&t|~r&n)+f[5]+1200080426|0,e=(e<<12|e>>>20)+r|0,n+=(e&r|~e&t)+f[6]-1473231341|0,n=(n<<17|n>>>15)+e|0,t+=(n&e|~n&r)+f[7]-45705983|0,t=(t<<22|t>>>10)+n|0,r+=(t&n|~t&e)+f[8]+1770035416|0,r=(r<<7|r>>>25)+t|0,e+=(r&t|~r&n)+f[9]-1958414417|0,e=(e<<12|e>>>20)+r|0,n+=(e&r|~e&t)+f[10]-42063|0,n=(n<<17|n>>>15)+e|0,t+=(n&e|~n&r)+f[11]-1990404162|0,t=(t<<22|t>>>10)+n|0,r+=(t&n|~t&e)+f[12]+1804603682|0,r=(r<<7|r>>>25)+t|0,e+=(r&t|~r&n)+f[13]-40341101|0,e=(e<<12|e>>>20)+r|0,n+=(e&r|~e&t)+f[14]-1502002290|0,n=(n<<17|n>>>15)+e|0,t+=(n&e|~n&r)+f[15]+1236535329|0,t=(t<<22|t>>>10)+n|0,r+=(t&e|n&~e)+f[1]-165796510|0,r=(r<<5|r>>>27)+t|0,e+=(r&n|t&~n)+f[6]-1069501632|0,e=(e<<9|e>>>23)+r|0,n+=(e&t|r&~t)+f[11]+643717713|0,n=(n<<14|n>>>18)+e|0,t+=(n&r|e&~r)+f[0]-373897302|0,t=(t<<20|t>>>12)+n|0,r+=(t&e|n&~e)+f[5]-701558691|0,r=(r<<5|r>>>27)+t|0,e+=(r&n|t&~n)+f[10]+38016083|0,e=(e<<9|e>>>23)+r|0,n+=(e&t|r&~t)+f[15]-660478335|0,n=(n<<14|n>>>18)+e|0,t+=(n&r|e&~r)+f[4]-405537848|0,t=(t<<20|t>>>12)+n|0,r+=(t&e|n&~e)+f[9]+568446438|0,r=(r<<5|r>>>27)+t|0,e+=(r&n|t&~n)+f[14]-1019803690|0,e=(e<<9|e>>>23)+r|0,n+=(e&t|r&~t)+f[3]-187363961|0,n=(n<<14|n>>>18)+e|0,t+=(n&r|e&~r)+f[8]+1163531501|0,t=(t<<20|t>>>12)+n|0,r+=(t&e|n&~e)+f[13]-1444681467|0,r=(r<<5|r>>>27)+t|0,e+=(r&n|t&~n)+f[2]-51403784|0,e=(e<<9|e>>>23)+r|0,n+=(e&t|r&~t)+f[7]+1735328473|0,n=(n<<14|n>>>18)+e|0,t+=(n&r|e&~r)+f[12]-1926607734|0,t=(t<<20|t>>>12)+n|0,r+=(t^n^e)+f[5]-378558|0,r=(r<<4|r>>>28)+t|0,e+=(r^t^n)+f[8]-2022574463|0,e=(e<<11|e>>>21)+r|0,n+=(e^r^t)+f[11]+1839030562|0,n=(n<<16|n>>>16)+e|0,t+=(n^e^r)+f[14]-35309556|0,t=(t<<23|t>>>9)+n|0,r+=(t^n^e)+f[1]-1530992060|0,r=(r<<4|r>>>28)+t|0,e+=(r^t^n)+f[4]+1272893353|0,e=(e<<11|e>>>21)+r|0,n+=(e^r^t)+f[7]-155497632|0,n=(n<<16|n>>>16)+e|0,t+=(n^e^r)+f[10]-1094730640|0,t=(t<<23|t>>>9)+n|0,r+=(t^n^e)+f[13]+681279174|0,r=(r<<4|r>>>28)+t|0,e+=(r^t^n)+f[0]-358537222|0,e=(e<<11|e>>>21)+r|0,n+=(e^r^t)+f[3]-722521979|0,n=(n<<16|n>>>16)+e|0,t+=(n^e^r)+f[6]+76029189|0,t=(t<<23|t>>>9)+n|0,r+=(t^n^e)+f[9]-640364487|0,r=(r<<4|r>>>28)+t|0,e+=(r^t^n)+f[12]-421815835|0,e=(e<<11|e>>>21)+r|0,n+=(e^r^t)+f[15]+530742520|0,n=(n<<16|n>>>16)+e|0,t+=(n^e^r)+f[2]-995338651|0,t=(t<<23|t>>>9)+n|0,r+=(n^(t|~e))+f[0]-198630844|0,r=(r<<6|r>>>26)+t|0,e+=(t^(r|~n))+f[7]+1126891415|0,e=(e<<10|e>>>22)+r|0,n+=(r^(e|~t))+f[14]-1416354905|0,n=(n<<15|n>>>17)+e|0,t+=(e^(n|~r))+f[5]-57434055|0,t=(t<<21|t>>>11)+n|0,r+=(n^(t|~e))+f[12]+1700485571|0,r=(r<<6|r>>>26)+t|0,e+=(t^(r|~n))+f[3]-1894986606|0,e=(e<<10|e>>>22)+r|0,n+=(r^(e|~t))+f[10]-1051523|0,n=(n<<15|n>>>17)+e|0,t+=(e^(n|~r))+f[1]-2054922799|0,t=(t<<21|t>>>11)+n|0,r+=(n^(t|~e))+f[8]+1873313359|0,r=(r<<6|r>>>26)+t|0,e+=(t^(r|~n))+f[15]-30611744|0,e=(e<<10|e>>>22)+r|0,n+=(r^(e|~t))+f[6]-1560198380|0,n=(n<<15|n>>>17)+e|0,t+=(e^(n|~r))+f[13]+1309151649|0,t=(t<<21|t>>>11)+n|0,r+=(n^(t|~e))+f[4]-145523070|0,r=(r<<6|r>>>26)+t|0,e+=(t^(r|~n))+f[11]-1120210379|0,e=(e<<10|e>>>22)+r|0,n+=(r^(e|~t))+f[2]+718787259|0,n=(n<<15|n>>>17)+e|0,t+=(e^(n|~r))+f[9]-343485551|0,t=(t<<21|t>>>11)+n|0,i[0]=r+i[0]|0,i[1]=t+i[1]|0,i[2]=n+i[2]|0,i[3]=e+i[3]|0}s(a,"md5cycle");function g(i){var f=[],r;for(r=0;r<64;r+=4)f[r>>2]=i.charCodeAt(r)+(i.charCodeAt(r+1)<<8)+(i.charCodeAt(r+2)<<16)+(i.charCodeAt(r+3)<<24);return f}s(g,"md5blk");function b(i){var f=[],r;for(r=0;r<64;r+=4)f[r>>2]=i[r]+(i[r+1]<<8)+(i[r+2]<<16)+(i[r+3]<<24);return f}s(b,"md5blk_array");function y(i){var f=i.length,r=[1732584193,-271733879,-1732584194,271733878],t,n,e,p,A,m;for(t=64;t<=f;t+=64)a(r,g(i.substring(t-64,t)));for(i=i.substring(t-64),n=i.length,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)e[t>>2]|=i.charCodeAt(t)<<(t%4<<3);if(e[t>>2]|=128<<(t%4<<3),t>55)for(a(r,e),t=0;t<16;t+=1)e[t]=0;return p=f*8,p=p.toString(16).match(/(.*?)(.{0,8})$/),A=parseInt(p[2],16),m=parseInt(p[1],16)||0,e[14]=A,e[15]=m,a(r,e),r}s(y,"md51");function l(i){var f=i.length,r=[1732584193,-271733879,-1732584194,271733878],t,n,e,p,A,m;for(t=64;t<=f;t+=64)a(r,b(i.subarray(t-64,t)));for(i=t-64<f?i.subarray(t-64):new Uint8Array(0),n=i.length,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)e[t>>2]|=i[t]<<(t%4<<3);if(e[t>>2]|=128<<(t%4<<3),t>55)for(a(r,e),t=0;t<16;t+=1)e[t]=0;return p=f*8,p=p.toString(16).match(/(.*?)(.{0,8})$/),A=parseInt(p[2],16),m=parseInt(p[1],16)||0,e[14]=A,e[15]=m,a(r,e),r}s(l,"md51_array");function _(i){var f="",r;for(r=0;r<4;r+=1)f+=c[i>>r*8+4&15]+c[i>>r*8&15];return f}s(_,"rhex");function F(i){var f;for(f=0;f<i.length;f+=1)i[f]=_(i[f]);return i.join("")}s(F,"hex"),F(y("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(h=s(function(i,f){var r=(i&65535)+(f&65535),t=(i>>16)+(f>>16)+(r>>16);return t<<16|r&65535},"add32")),typeof ArrayBuffer!="undefined"&&!ArrayBuffer.prototype.slice&&function(){function i(f,r){return f=f|0||0,f<0?Math.max(f+r,0):Math.min(f,r)}s(i,"clamp"),ArrayBuffer.prototype.slice=function(f,r){var t=this.byteLength,n=i(f,t),e=t,p,A,m,S;return r!==o&&(e=i(r,t)),n>e?new ArrayBuffer(0):(p=e-n,A=new ArrayBuffer(p),m=new Uint8Array(A),S=new Uint8Array(this,n,p),m.set(S),A)}}();function B(i){return/[\u0080-\uFFFF]/.test(i)&&(i=unescape(encodeURIComponent(i))),i}s(B,"toUtf8");function j(i,f){var r=i.length,t=new ArrayBuffer(r),n=new Uint8Array(t),e;for(e=0;e<r;e+=1)n[e]=i.charCodeAt(e);return f?n:t}s(j,"utf8Str2ArrayBuffer");function D(i){return String.fromCharCode.apply(null,new Uint8Array(i))}s(D,"arrayBuffer2Utf8Str");function R(i,f,r){var t=new Uint8Array(i.byteLength+f.byteLength);return t.set(new Uint8Array(i)),t.set(new Uint8Array(f),i.byteLength),r?t:t.buffer}s(R,"concatenateArrayBuffers");function w(i){var f=[],r=i.length,t;for(t=0;t<r-1;t+=2)f.push(parseInt(i.substr(t,2),16));return String.fromCharCode.apply(String,f)}s(w,"hexToBinaryString");function u(){this.reset()}return s(u,"SparkMD5"),u.prototype.append=function(i){return this.appendBinary(B(i)),this},u.prototype.appendBinary=function(i){this._buff+=i,this._length+=i.length;var f=this._buff.length,r;for(r=64;r<=f;r+=64)a(this._hash,g(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},u.prototype.end=function(i){var f=this._buff,r=f.length,t,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e;for(t=0;t<r;t+=1)n[t>>2]|=f.charCodeAt(t)<<(t%4<<3);return this._finish(n,r),e=F(this._hash),i&&(e=w(e)),this.reset(),e},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(i){return this._buff=i.buff,this._length=i.length,this._hash=i.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(i,f){var r=f,t,n,e;if(i[r>>2]|=128<<(r%4<<3),r>55)for(a(this._hash,i),r=0;r<16;r+=1)i[r]=0;t=this._length*8,t=t.toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(t[2],16),e=parseInt(t[1],16)||0,i[14]=n,i[15]=e,a(this._hash,i)},u.hash=function(i,f){return u.hashBinary(B(i),f)},u.hashBinary=function(i,f){var r=y(i),t=F(r);return f?w(t):t},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(i){var f=R(this._buff.buffer,i,!0),r=f.length,t;for(this._length+=i.byteLength,t=64;t<=r;t+=64)a(this._hash,b(f.subarray(t-64,t)));return this._buff=t-64<r?new Uint8Array(f.buffer.slice(t-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(i){var f=this._buff,r=f.length,t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n,e;for(n=0;n<r;n+=1)t[n>>2]|=f[n]<<(n%4<<3);return this._finish(t,r),e=F(this._hash),i&&(e=w(e)),this.reset(),e},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var i=u.prototype.getState.call(this);return i.buff=D(i.buff),i},u.ArrayBuffer.prototype.setState=function(i){return i.buff=j(i.buff,!0),u.prototype.setState.call(this,i)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(i,f){var r=l(new Uint8Array(i)),t=F(r);return f?w(t):t},u})});var L=G(M());function H(o,h,c){return new Promise((d,a)=>{let g=h*c,b=g+c,y=new L.default.ArrayBuffer,l=new FileReader,_=o.slice(g,b);l.onload=F=>{var B;y.append((B=F.target)==null?void 0:B.result),d({start:g,end:b,index:h,hash:y.end(),blob:_})},l.onerror=a,l.readAsArrayBuffer(_)})}s(H,"createChunk");function J(o){return C(this,null,function*(){let{file:h,chunkSize:c,startChunkIndex:d,endChunkIndex:a}=o.data,g=[];for(let y=d;y<a;y++)g.push(H(h,y,c));let b=yield Promise.all(g);postMessage(b)})}s(J,"onMessage");onmessage=J;})();
